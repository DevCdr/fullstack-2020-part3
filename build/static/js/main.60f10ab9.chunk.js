(this.webpackJsonppart3=this.webpackJsonppart3||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),u=n.n(o),c=n(2),i=n(3),s=n.n(i),l="/api/persons",m=function(){return s.a.get(l).then((function(e){return e.data}))},f=function(e){return s.a.post(l,e).then((function(e){return e.data}))},d=function(e,t){return s.a.put("".concat(l,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},b=(n(36),function(e){var t=e.message,n=e.type;return null===t?null:r.a.createElement("div",{className:n},t)}),v=function(e){var t=e.filter,n=e.setFilter;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},h=function(e){var t=e.persons,n=e.setPersons,a=e.name,o=e.setName,u=e.number,c=e.setNumber,i=e.setMessage,s=e.setType;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:a,number:u},l=t.find((function(e){return e.name.toLowerCase()===a.toLowerCase()}));void 0===l?function(e,t,n,a,r,o,u){f(e).then((function(c){n(t.concat(c)),a(""),r(""),o("Added ".concat(e.name)),setTimeout((function(){o(null)}),2e3),u("notice")})).catch((function(){o("Error adding ".concat(e.name)),setTimeout((function(){o(null)}),2e3),u("error")}))}(r,t,n,o,c,i,s):function(e,t,n,a,r,o,u,c){window.confirm("".concat(e.name," is already added to phonebook, replace the old number with a new one?"))&&d(t.id,e).then((function(i){a(n.map((function(e){return e.id!==t.id?e:i}))),r(""),o(""),u("Updated ".concat(e.name)),setTimeout((function(){u(null)}),2e3),c("notice")})).catch((function(){a(n.filter((function(e){return e.id!==t.id}))),u("Information of ".concat(e.name," has already been removed from server")),setTimeout((function(){u(null)}),2e3),c("error")}))}(r,l,t,n,o,c,i,s)}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:a,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},E=function(e){var t=e.persons,n=e.setPersons,a=e.filter,o=e.setMessage,u=e.setType,c=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return r.a.createElement("div",null,c.map((function(e,a){return r.a.createElement(g,{key:a,person:e,persons:t,setPersons:n,setMessage:o,setType:u})})))},g=function(e){var t=e.person,n=e.persons,a=e.setPersons,o=e.setMessage,u=e.setType;return r.a.createElement("div",null,t.name," ",t.number," ",r.a.createElement("button",{onClick:function(){return function(e,t,n,a,r){window.confirm("Delete ".concat(e.name,"?"))&&p(e.id).then((function(){n(t.filter((function(t){return t.id!==e.id}))),a("Deleted ".concat(e.name)),setTimeout((function(){a(null)}),2e3),r("notice")})).catch((function(){n(t.filter((function(t){return t.id!==e.id}))),a("Information of ".concat(e.name," has already been removed from server")),setTimeout((function(){a(null)}),2e3),r("error")}))}(t,n,a,o,u)}},"delete"))};var w=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],o=t[1],u=Object(a.useState)([]),i=Object(c.a)(u,2),s=i[0],l=i[1],f=Object(a.useState)(""),d=Object(c.a)(f,2),p=d[0],g=d[1],w=Object(a.useState)(""),y=Object(c.a)(w,2),j=y[0],O=y[1],T=Object(a.useState)(null),C=Object(c.a)(T,2),P=C[0],S=C[1],k=Object(a.useState)(""),M=Object(c.a)(k,2),N=M[0],L=M[1];return Object(a.useEffect)((function(){m().then((function(e){l(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(b,{message:P,type:N}),r.a.createElement(v,{filter:n,setFilter:o}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(h,{persons:s,setPersons:l,name:p,setName:g,number:j,setNumber:O,setMessage:S,setType:L}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(E,{persons:s,setPersons:l,filter:n,setMessage:S,setType:L}))};u.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.60f10ab9.chunk.js.map